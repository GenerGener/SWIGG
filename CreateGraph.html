<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>01. Create Graph. Vivagraph SVG tutorial.</title>
    <script type="text/javascript" src="../../dist/vivagraph.js"></script>
    <script type="text/javascript">

        function main() {

            var readSingleFile = (e) => {

                var reader = new FileReader()
                reader.onloadend = (e) => {
                    //console.log(reader)
                    var jsonObj = JSON.parse(reader.result)

                    nodeObj = jsonObj.gexf.graph.nodes.node
                    edgeObj = jsonObj.gexf.graph.edges.edge

                    //console.log(nodeObj)
                    console.log(edgeObj)

                    // Step 1. We create a graph object.
                    var graph = Viva.Graph.graph();

                    // Step 2. We add nodes and edges to the graph:
                    edgeObj.map((el, idx) => {

                        graph.addLink(el['@source'], el['@target']);
                        console.log(el['@source'])
                    })


                    // Step 3. Render the graph.
                    var renderer = Viva.Graph.View.renderer(graph);
                    renderer.run();
                }
                reader.readAsText(e.target.files[0])
            }

            document.getElementById('fileinput').addEventListener('change', readSingleFile, false);



            /*// Step 1. We create a graph object.
            var graph = Viva.Graph.graph();

            // Step 2. We add nodes and edges to the graph:
            graph.addLink("-4076200875182589025", "-4076200875182589025");
            graph.addLink(2, 3);

            // Step 3. Render the graph.
            var renderer = Viva.Graph.View.renderer(graph);
            renderer.run();*/
        }
    </script>
    <style type="text/css" media="screen">
        html, body, svg { width: 100%; height: 100%;}
    </style>
</head>
<body onload='main()'>
<input type="file" id="fileinput" />
</body>
</html>
